local contacts = require "plugin.contacts"
local json = require "json"
local bg = display.newRect( display.contentCenterX, display.contentCenterY, display.actualContentWidth, display.actualContentHeight )
bg:setFillColor( 1 )
local title = display.newText( "Contacts", 0-30, display.contentCenterY , native.systemFont )
local getButton = display.newText( "Get Contacts",display.contentCenterX, display.contentCenterY-100, native.systemFont )
getButton:setFillColor(0)
getButton:addEventListener( "tap", function (  )
	print( "Contacts" )
	print( "----" )
	contacts.get(function(e)
    	print(json.prettify(e))
	end)
	print( "----" )
end )

local accessButton = display.newText( "Can Access Contacts?",display.contentCenterX, display.contentCenterY, native.systemFont )
accessButton:setFillColor(0)
accessButton:addEventListener( "tap", function (  )
	print(contacts.canAccess())
end )
local requestButton = display.newText( "Request Access( iOS and Andorid 6.0+)",display.contentCenterX, display.contentCenterY+100, native.systemFont )
requestButton:setFillColor(0)
accessButton:addEventListener( "tap", function (  )
	contacts.requestAccess(function(e)
    	print(json.prettify(e))
	end)
end )

